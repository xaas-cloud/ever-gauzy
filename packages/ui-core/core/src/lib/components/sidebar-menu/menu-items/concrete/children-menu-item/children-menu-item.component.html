<ng-container *ngxPermissionsOnly="item?.data?.permissionKeys">
  @if (!collapse) {
    @if (!item?.hidden) {
      <div
        [ngClass]="{ 'border-bottom': !isLast() }"
        [gaTooltip]="item?.title"
        [icon]="item?.icon"
        [class]="(selected ? 'selected ' : '') + (!collapse ? 'custom ' : '') + 'sub-item'"
        (click)="select()"
        >
        <span class="info">
          <i [class]="item?.icon"></i>
          @if (collapse || mouseHover) {
            <span>
              <a [href]="getExternalUrl(item?.link)" onclick="return false;">
                {{ item?.title }}
              </a>
            </span>
          }
        </span>
      </div>
    }
  } @else {
    @if (!item?.hidden) {
      <div
        [ngClass]="{ 'border-bottom': !isLast() }"
        [nbTooltip]="item?.title"
        nbTooltipPlacement="right"
        [class]="(selected ? 'sub-item selected' : 'sub-item') + (!collapse ? ' custom' : '')"
        >
        <span (click)="select()" class="info w-100">
          <i [class]="item?.icon"></i>
          @if (collapse || mouseHover) {
            <span>
              <a [href]="getExternalUrl(item?.link)" onclick="return false;">
                {{ item?.title }}
              </a>
            </span>
          }
        </span>
        @if (item?.data?.add) {
          <button class="float-right plus" status="basic" outline size="tiny" (click)="add()" nbButton>
            <i class="fas fa-plus"></i>
          </button>
        }
      </div>
    }
  }
</ng-container>
