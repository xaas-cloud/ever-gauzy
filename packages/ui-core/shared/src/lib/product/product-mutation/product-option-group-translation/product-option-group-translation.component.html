<nb-card class="main">
  <nb-card-header class="d-flex flex-column">
    <span class="cancel"
      ><i class="fas fa-times" (click)="dialogRef.close()"></i
    ></span>
    <h5 class="title">
      {{ 'INVENTORY_PAGE.OPTION_TRANSLATIONS' | translate }}
    </h5>
  </nb-card-header>
  <nb-card-body>
    @if (form) {
      <form [formGroup]="form">
        <!-- group title -->
        <div class="row option-row">
          @for (ln of languages; track ln) {
            <div class="col-md-3 col-sm-12">
              @if (!isOptionGroupValueActive(ln.value)) {
                <div
                  (click)="setActiveGroupValueLngCode(ln.value)"
                  class="option-line"
                  >
                  <span class="language-span">{{ ln.value }}</span
                    >{{ getGroupTitleTranslation(ln.value) || '' }}
                  </div>
                }
                @if (isOptionGroupValueActive(ln.value)) {
                  <div class="input-container">
                    <span class="language-label">{{ ln.value }}</span>
                    <input
                      fullWidth
                      id="groupNameInput_{{ln.value}}"
                      type="text"
                      nbInput
                      [formControlName]="ln.value"
                      />
                    </div>
                  }
                </div>
              }
            </div>
            @for (option of productOptionGroup.options; track option) {
              <div
                class="row option-row"
                >
                @for (ln of languages; track ln) {
                  <div class="col-md-3 col-sm-12">
                    @if (!isOptionActive(option, ln.value)) {
                      <div
                        (click)="setActiveOptionLngCode(option, ln.value)"
                        class="option-line"
                        >
                        <span class="language-span">{{ ln.value }}</span
                          >{{ getOptionNameTranslation(option, ln.value) || '' }}
                        </div>
                      }
                      @if (isOptionActive(option, ln.value)) {
                        <div class="input-container">
                          <span class="language-label">{{ ln.value }}</span>
                          <input
                            fullWidth
                            id="groupNameInput_{{ln.value}}"
                            type="text"
                            nbInput
                            [formControlName]="ln.value"
                            />
                          </div>
                        }
                      </div>
                    }
                  </div>
                }
              </form>
            }
          </nb-card-body>
          <nb-card-footer class="text-left">
            <button
              (click)="dialogRef.close()"
              status="basic"
              outline
              class="mr-2"
              nbButton
              >
              {{ 'BUTTONS.CANCEL' | translate }}
            </button>
            <button status="success" nbButton (click)="onSaveRequest()">
              {{ 'BUTTONS.SAVE' | translate }}
            </button>
          </nb-card-footer>
        </nb-card>
