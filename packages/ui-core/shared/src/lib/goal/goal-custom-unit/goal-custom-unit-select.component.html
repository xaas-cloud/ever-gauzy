<div [formGroup]="parentFormGroup">
  @if (parentFormGroup.value.type == keyResultTypeEnum.CURRENCY) {
    @if (parentFormGroup.value.type == keyResultTypeEnum.CURRENCY) {
      <ga-currency
        formControlName="unit"
        [placeholder]="'Unit'"
      ></ga-currency>
    }
  } @else {
    <label for="unit" class="label">
      {{ 'FORM.LABELS.UNIT' | translate }}
    </label>
    @if (
      parentFormGroup.value.type == keyResultTypeEnum.NUMERICAL &&
      !createNew
      ) {
      <nb-select
        fullWidth
        formControlName="unit"
        [selected]="numberUnits[0]"
			(selectedChange)="
				parentFormGroup.value.unit == 'create-new'
					? (createNew = !createNew)
					: true
			"
        id="unit"
        nbSuffix
        >
        @for (unit of numberUnits; track unit) {
          <nb-option [value]="unit">
            {{ unit }}
          </nb-option>
        }
        <nb-option value="create-new" class="bg-secondary text-light">
          {{ 'GOALS_PAGE.CREATE_NEW' | translate }}
        </nb-option>
      </nb-select>
    }
  }
  @if (createNew) {
    <nb-form-field>
      <input type="text" formControlName="unit" nbInput fullWidth />
      <nb-icon
        nbSuffix
        icon="checkmark-outline"
        status="success"
        (click)="createNewUnit()"
        >
      </nb-icon>
      <nb-icon
        nbSuffix
        icon="close-outline"
        status="danger"
        (click)="createNew = !createNew"
        >
      </nb-icon>
    </nb-form-field>
  }
</div>
