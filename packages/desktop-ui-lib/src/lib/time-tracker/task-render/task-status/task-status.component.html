@if (taskStatus$ | async) {
  <gauzy-task-badge-view
    [nbPopover]="contextMenu"
    [taskBadge]="taskStatus$ | async"
    nbPopoverTrigger="hover"
  ></gauzy-task-badge-view>
} @else {
  <gauzy-task-badge-default
    [nbPopover]="contextMenu"
    [taskBadge]="status$ | async"
    nbPopoverTrigger="hover"
  ></gauzy-task-badge-default>
}

<ng-template #contextMenu>
  <div class="view">
    @for (taskStatus of statuses$ | async; track taskStatus) {
      <gauzy-task-badge-view
        (click)="updateStatus(taskStatus)"
        [taskBadge]="taskStatus"
        class="status-view"
      ></gauzy-task-badge-view>
    }
  </div>
</ng-template>

