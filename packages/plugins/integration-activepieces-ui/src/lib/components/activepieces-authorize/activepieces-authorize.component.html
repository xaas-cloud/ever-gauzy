<nb-card class="card-scroll">
  <nb-card-header class="d-flex">
    <ngx-back-navigation></ngx-back-navigation>
    <h5>{{ 'INTEGRATIONS.ACTIVEPIECES_PAGE.AUTHORIZE.TITLE' | translate }}</h5>
  </nb-card-header>
  <nb-card-body>
    <form class="col-xl-6 col-12" [formGroup]="form" (ngSubmit)="setupApiKey()">
      <div class="form-group">
        <label for="api_key" class="label">
          {{ 'INTEGRATIONS.ACTIVEPIECES_PAGE.SETTINGS.API_KEY' | translate }}
        </label>
        <input
          fullWidth
          id="api_key"
          formControlName="api_key"
          type="password"
          nbInput
          autocomplete="new-password"
          autocapitalize="off"
          autocorrect="off"
          spellcheck="false"
          [placeholder]="'INTEGRATIONS.ACTIVEPIECES_PAGE.SETTINGS.API_KEY_PLACEHOLDER' | translate"
        />
      </div>
      <div class="hint">
        <nb-icon icon="info-outline"></nb-icon>
        {{ 'INTEGRATIONS.ACTIVEPIECES_PAGE.AUTHORIZE.INFOS' | translate }}
      </div>
      <button
        nbButton
        status="primary"
        type="submit"
        [disabled]="form.invalid || loading()"
        size="small"
        outline
      >
        @if (loading()) {
          <nb-icon icon="loader-outline"></nb-icon>
        }
        {{ 'INTEGRATIONS.ACTIVEPIECES_PAGE.AUTHORIZE.NEXT' | translate }}
      </button>
    </form>
  </nb-card-body>
</nb-card>
