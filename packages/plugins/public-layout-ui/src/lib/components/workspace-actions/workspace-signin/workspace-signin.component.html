<section class="login-container">
  <div class="login-wrapper">
    <!-- Step 1: Email and Code Input -->
    @if (!showWorkspaceSelection) {
      <ga-workspace-header
        title="WORKSPACES.SIGN_IN_TITLE"
        subtitle="WORKSPACES.SIGN_IN_SUBTITLE"
        (close)="closeWindow()"
      ></ga-workspace-header>
      <ga-email-code-form
        [form]="form"
        [isLoading]="isLoading"
        [isCodeSent]="isCodeSent"
        [isCodeResent]="isCodeResent"
        [countdown]="countdown"
        [showEditEmailButton]="false"
        [showForgotEmailLink]="false"
        descriptionText="WORKSPACES.SIGN_IN_SUBTITLE"
        (sendCode)="sendSigninCode()"
        (resendCode)="onResendCode()"
        (submitForm)="confirmSignInCode()"
      ></ga-email-code-form>
    }

    <!-- Step 2: Workspace Selection (without create button) -->
    @if (showWorkspaceSelection) {
      <ga-workspace-header (close)="closeWindow()"></ga-workspace-header>
      <ga-workspace-selection
        [workspaces]="workspaces"
        [confirmedEmail]="confirmedEmail"
        [totalWorkspaces]="totalWorkspaces"
        [showCreateButton]="false"
        (workspaceSelected)="signInWorkspace($event)"
      ></ga-workspace-selection>
    }
  </div>
</section>
