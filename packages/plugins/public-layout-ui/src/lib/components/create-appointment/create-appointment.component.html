<nb-card [nbSpinner]="loading" nbSpinnerStatus="primary" nbSpinnerSize="large">
  <nb-card-header>
    <div class="main-header">
      <h4>{{ 'PUBLIC_APPOINTMENTS.PICK_DATETIME' | translate }}</h4>
    </div>
  </nb-card-header>
  <nb-card-body>
    @if (employee$ | async; as employee) {
      @if (eventType$ | async; as eventType) {
        <div class="row">
          @if (employee) {
            <div class="employee-info col-9">
              <img class="employee-image" [src]="employee.user.imageUrl" alt="Employee Avatar" />
              <div class="employee-details">
                <span class="employee-name">
                  {{ employee.fullName }}
                </span>
                <div class="employee-position">
                  {{ employee.organizationPosition?.name }}
                </div>
                <div class="transparent">
                  <strong>{{ employee.user?.email }}</strong>
                </div>
              </div>
            </div>
          }
          @if (eventType) {
            <div class="col-3">
              <div>
                <div class="block-info">
                  {{ 'PUBLIC_APPOINTMENTS.EVENT_TYPE' | translate }}
                  <strong> {{ eventType.title }} </strong>
                </div>
              </div>
              <div>
                {{ 'PUBLIC_APPOINTMENTS.DURATION' | translate }}
                <strong> {{ eventType.duration }} {{ eventType.durationUnit }} </strong>
              </div>
              <div>
                {{ eventType.description }}
              </div>
            </div>
          }
        </div>
        <div class="calendar">
          <ngx-appointment-calendar
            [employee]="employee"
            [selectedEventType]="eventType"
            [appointmentFormURL]="appointmentFormURL"
            [showHeader]="false"
          ></ngx-appointment-calendar>
        </div>
      }
    }
  </nb-card-body>
</nb-card>
